/* === GERAL === */
* { margin: 0; padding: 0; box-sizing: border-box; user-select: none; }
body {
    font-family: 'Segoe UI', sans-serif;
    background: #111; color: #eee;
    height: 100vh; overflow: hidden;
}

#main-layout {
    display: flex; width: 100%; height: 100%;
    align-items: center; justify-content: center;
}

#game-wrapper { 
    position: relative; 
    width: 1100px; height: 650px;
    box-shadow: 0 0 50px rgba(0,0,0,0.9);
    border: 3px solid #444;
    background: #000;
    overflow: hidden; 
}

#game-canvas {
    width: 100%; height: 100%;
    display: block;
    background-color: #222; 
    cursor: crosshair;
}

#damage-layer { 
    width: 100%; height: 100%; position: absolute; top: 0; left: 0; 
    pointer-events: none; z-index: 50; overflow: hidden; 
}

#game-container-ui {
    width: 100%; height: 100%; position: absolute; top: 0; left: 0; pointer-events: none;
}

#sidebar {
    width: 250px; height: 650px; background: #1a1a1a;
    border: 3px solid #444; border-left: none; padding: 20px;
    display: flex; flex-direction: column; gap: 20px;
}
#sidebar h2 { font-size: 20px; color: #4CAF50; text-align: center; margin-bottom: 10px; }
.stat-group { display: flex; flex-direction: column; gap: 5px; }
.stat-label { font-weight: bold; font-size: 14px; display: flex; justify-content: space-between; }
.stat-box { background: #333; padding: 10px; border-radius: 5px; font-size: 14px; line-height: 1.6; border: 1px solid #444; }
#weapon-display { color: #00FFFF; font-weight: bold; text-shadow: 0 0 5px rgba(0,255,255,0.3); }
.bar-container { width: 100%; height: 15px; background: #000; border-radius: 4px; overflow: hidden; border: 1px solid #555; }
.bar-fill { height: 100%; width: 0%; transition: width 0.2s; }
.xp-fill { background: #FFC107; } .health-fill { background: #F44336; }

.screen-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    background: rgba(0,0,0,0.92); z-index: 200; backdrop-filter: blur(4px);
}
.selection-grid { display: flex; gap: 20px; margin-top: 20px; flex-wrap: wrap; justify-content: center; }
.class-card, .weapon-card, .upgrade-option {
    background: #333; border: 2px solid #555; border-radius: 8px; padding: 15px; width: 180px; height: 160px;
    display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; cursor: pointer; transition: 0.2s;
}
.class-card:hover, .weapon-card:hover, .upgrade-option:hover { background: #444; border-color: #FFD700; transform: translateY(-5px); }
button {
    padding: 12px 30px; font-size: 18px; font-weight: bold; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; margin-top: 20px; transition: 0.2s;
}
button:hover { background: #45a049; transform: scale(1.05); }

#boss-hud { position: absolute; top: 20px; left: 50%; transform: translateX(-50%); width: 500px; z-index: 150; text-align: center; }
#boss-name { color: #FFD700; font-weight: bold; text-shadow: 0 0 5px black; }
.boss-bar-container { width: 100%; height: 15px; background: #222; border: 2px solid #FFD700; border-radius: 10px; margin-top: 5px; }
#boss-hp-bar { width: 100%; height: 100%; background: #D32F2F; transition: width 0.1s linear; }

#countdown-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.5); z-index: 100;
    display: none; align-items: center; justify-content: center;
    font-size: 120px; font-weight: bold; color: #FFF;
    text-shadow: 0 0 20px #000; pointer-events: none;
}

.floating-damage { 
    position: absolute; color: #fff; font-weight: bold; font-size: 16px; 
    text-shadow: 2px 2px 0 #000; pointer-events: none; 
    animation: floatUp 0.6s forwards; z-index: 999; 
    width: 60px; margin-left: -30px; text-align: center; 
}
@keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-35px) scale(1.2); opacity: 0; } }

.rarity-common { color: #FFF; }
.rarity-uncommon { color: #4CAF50; }
.rarity-rare { color: #2196F3; }
.rarity-epic { color: #9C27B0; }
.rarity-legendary { color: #FF3D00; font-weight: 900; border-bottom: 2px solid #FFD700; }

#chest-title { font-size: 32px; margin-bottom: 20px; font-weight: 900; text-transform: uppercase; }
#chest-content { text-align: center; font-size: 16px; background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; width: 80%; }
.chest-tier-bronze { color: #CD7F32 !important; text-shadow: 0 0 10px #CD7F32; }
.chest-tier-silver { color: #C0C0C0 !important; text-shadow: 0 0 10px #C0C0C0; }
.chest-tier-gold { color: #FFD700 !important; text-shadow: 0 0 15px #FFD700; }

#skill-hud { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px; z-index: 100; pointer-events: none; }
.skill-icon { width: 50px; height: 50px; background: #333; border: 2px solid #555; border-radius: 8px; position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center; }
.skill-icon.ready { border-color: #00FF00; box-shadow: 0 0 10px #00FF00; }
.skill-cd-overlay { position: absolute; bottom: 0; left: 0; width: 100%; background: rgba(0,0,0,0.7); height: 0%; transition: height 0.1s linear; }
.skill-count { position: absolute; bottom: 2px; right: 4px; font-size: 12px; font-weight: bold; color: #FFF; z-index: 2; text-shadow: 1px 1px 0 #000; }
.icon-shield { width: 24px; height: 28px; background: #00FFFF; clip-path: polygon(50% 0, 100% 20%, 100% 80%, 50% 100%, 0 80%, 0 20%); }
.icon-fire { width: 24px; height: 24px; background: #FF5722; border-radius: 50%; box-shadow: 0 -5px 0 #FFD700; }
.icon-meteor { width: 24px; height: 24px; background: #8D6E63; border-radius: 50%; border: 2px solid #FFF; }
.icon-bolt { width: 15px; height: 28px; background: #E040FB; clip-path: polygon(60% 0, 100% 0, 40% 50%, 90% 50%, 10% 100%, 30% 50%, 0 50%); }